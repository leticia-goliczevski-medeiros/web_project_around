!function(){"use strict";var e={869:function(e,t,r){e.exports=r.p+"7c0ea9c25b78e7db700e.png"},428:function(e,t,r){e.exports=r.p+"628c1a38836245613d2a.png"}},t={};function r(n){var o=t[n];if(void 0!==o)return o.exports;var i=t[n]={exports:{}};return e[n](i,i.exports,r),i.exports}function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,i(n.key),n)}}function i(e){var t=function(e){if("object"!=n(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=n(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==n(t)?t:t+""}r.m=e,r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r.b=document.baseURI||self.location.href;var u=function(){return e=function e(t,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._inputsSelector=t.inputsSelector,this._buttonElementSelector=t.buttonElementSelector,this._buttonElementClass=t.buttonElementClass,this._errorClass=t.errorClass,this._inputErrorClass=t.inputErrorClass,this._formElement=r},(t=[{key:"enableValidation",value:function(){this._validateInputs()}},{key:"_validateInputs",value:function(){var e=this,t=Array.from(this._formElement.querySelectorAll(this._inputsSelector)),r=this._formElement.querySelector(this._buttonElementSelector);this._toggleButtonState(t,r,c),t.forEach((function(n){n.addEventListener("input",(function(){e._isValid(n),e._toggleButtonState(t,r)}))}))}},{key:"_isValid",value:function(e){if(e.validity.valid)this._hideInputError(e);else{var t=e.validationMessage;this._showInputError(e,t)}}},{key:"_toggleButtonState",value:function(e,t){this._hasInvalidInput(e)?(t.classList.add(c.buttonElementClass),t.setAttribute("disabled",!0)):(t.classList.remove(this._buttonElementClass),t.removeAttribute("disabled",!0))}},{key:"_showInputError",value:function(e,t){var r=e.nextElementSibling;e.classList.add(this._inputErrorClass),r.classList.add(this._errorClass),r.textContent=t}},{key:"_hideInputError",value:function(e){var t=e.nextElementSibling;e.classList.remove(this._inputErrorClass),t.classList.remove(this._errorClass),t.textContent=""}},{key:"_hasInvalidInput",value:function(e){return e.some((function(e){return!e.validity.valid}))}}])&&o(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}(),c={inputsSelector:".popup__input",buttonElementSelector:".popup__submit-button",buttonElementClass:"popup__submit-button_inactive",errorClass:"popup__input-error_active",inputErrorClass:"popup__input_type_error"},l=function(){Array.from(document.forms).forEach((function(e){var t=Array.from(e.querySelectorAll(c.inputsSelector));e.reset(),t.forEach((function(e){var t=e.nextElementSibling;e.classList.remove(c.inputErrorClass),t.classList.remove(c.errorClass),t.textContent=""}))}))};function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,f(n.key),n)}}function f(e){var t=function(e){if("object"!=a(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=a(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==a(t)?t:t+""}var p=function(){return e=function e(t,r){var n=t.items,o=t.renderer;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._items=n,this._renderer=o,this._container=document.querySelector(r)},(t=[{key:"renderItems",value:function(){var e=this;this._items.forEach((function(t){e._renderer(t)}))}},{key:"addItem",value:function(e){this._container.prepend(e)}}])&&s(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}();function y(e){return y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},y(e)}function h(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,m(n.key),n)}}function m(e){var t=function(e){if("object"!=y(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=y(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==y(t)?t:t+""}var d=function(){return e=function e(t){var r=t.item,n=t.templateSelector,o=t.handleCardClick,i=t.addLike,u=t.removeLike,c=t.user,l=t.removeCard,a=t.handleDeleteClick;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._item=r,this._name=r.name,this._link=r.link,this._likes=r.likes,this._owner=r.owner,this._cardId=r._id,this._templateSelector=n,this._handleCardClick=o,this._addLike=i,this._removeLike=u,this._user=c,this._userId=c._id,this._removeCard=l,this._handleDeleteClick=a},(t=[{key:"_getTemplate",value:function(){return document.querySelector(this._templateSelector).content.querySelector(".gallery__card").cloneNode(!0)}},{key:"generateCard",value:function(){var e=this;return this._element=this._getTemplate(),this._element.querySelector(".gallery__card-title").textContent=this._name,this._element.querySelector(".gallery__card-title").setAttribute("alt",this._name),this._element.querySelector(".gallery__card-image").src=this._link,this._likeCount=this._likes.length,this._element.querySelector(".gallery__like-count").textContent=this._likeCount,this._likeButton=this._element.querySelector(".gallery__heart-icon"),this._heartIcon=new URL(r(428),r.b),this._heartIconActive=new URL(r(869),r.b),this._likes.some((function(t){if(t._id===e._userId)return!0}))?this._likeButton.setAttribute("src",this._heartIconActive):this._likeButton.setAttribute("src",this._heartIcon),this._setEventListeners(),this._deleteIcon=this._element.querySelector(".gallery__delete-icon"),this._owner._id!==this._userId?this._deleteIcon.classList.add("gallery__delete-icon_inactive"):this._deleteIcon.addEventListener("click",(function(){e._handleDeleteClick(e._cardId,e._element)})),this._element}},{key:"_setEventListeners",value:function(){var e=this;this._element.querySelector(".gallery__card-image").addEventListener("click",(function(){e._handleCardClick({name:e._name,link:e._link})})),this._likeButton.addEventListener("click",(function(){e._enableLikeButton()}))}},{key:"_enableLikeButton",value:function(){this._heartIconSource=this._likeButton.getAttribute("src"),this._heartIcon.href.includes(this._heartIconSource)?(this._likeButton.setAttribute("src",this._heartIconActive),this._addLike(this._item,this._user),this._likeCount++,this._element.querySelector(".gallery__like-count").textContent=this._likeCount):(this._likeButton.setAttribute("src",this._heartIcon),this._removeLike(this._item,this._userId),this._likeCount--,this._element.querySelector(".gallery__like-count").textContent=this._likeCount)}}])&&h(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}();function _(e){return _="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_(e)}function b(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,v(n.key),n)}}function v(e){var t=function(e){if("object"!=_(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=_(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==_(t)?t:t+""}var S=function(){return e=function e(t){var r=t.profileNameSelector,n=t.profileDescriptionSelector;t.user,function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._profileName=document.querySelector(r),this._profileDescription=document.querySelector(n),this._profilePicture=document.querySelector(".profile__picture")},t=[{key:"getUserInfo",value:function(){return{userName:this._profileName.textContent,userDescription:this._profileDescription.textContent}}},{key:"setUserInfo",value:function(e){this._profileName.textContent=e.name,this._profileDescription.textContent=e.about,this._profilePicture.setAttribute("src",e.avatar)}}],t&&b(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}();function k(e){return k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},k(e)}function g(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,E(n.key),n)}}function E(e){var t=function(e){if("object"!=k(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=k(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==k(t)?t:t+""}var w=function(){return e=function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._popup=document.querySelector(t),this._popupSection=this._popup.parentElement,this._popupCloseIcon=this._popup.querySelector(".popup__close-icon"),this._handleEscClose=this._handleEscClose.bind(this),this._handleClickOutside=this._handleClickOutside.bind(this),this.close=this.close.bind(this)},(t=[{key:"open",value:function(){this._popupSection.classList.add("popup_popup_opened"),this.setEventListeners()}},{key:"close",value:function(){this._popupSection.classList.remove("popup_popup_opened"),document.removeEventListener("keydown",this._handleEscClose),this._popupSection.removeEventListener("click",this._handleClickOutside),this._popupCloseIcon.removeEventListener("click",this.close)}},{key:"_handleClickOutside",value:function(e){"SECTION"==e.target.tagName&&this.close()}},{key:"_handleEscClose",value:function(e){"Escape"===e.key&&this.close()}},{key:"setEventListeners",value:function(){document.addEventListener("keydown",this._handleEscClose),this._popupSection.addEventListener("click",this._handleClickOutside),this._popupCloseIcon.addEventListener("click",this.close)}}])&&g(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}();function C(e){return C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},C(e)}function j(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,O(n.key),n)}}function O(e){var t=function(e){if("object"!=C(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=C(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==C(t)?t:t+""}function P(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(P=function(){return!!e})()}function L(){return L="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=I(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},L.apply(null,arguments)}function I(e){return I=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},I(e)}function T(e,t){return T=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},T(e,t)}var q=function(e){function t(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=function(e,t,r){return t=I(t),function(e,t){if(t&&("object"==C(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,P()?Reflect.construct(t,r||[],I(e).constructor):t.apply(e,r))}(this,t,[e]))._popupImage=r._popup.querySelector(".image-popup__image"),r._popupTitle=r._popup.querySelector(".image-popup__title"),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&T(e,t)}(t,e),r=t,n=[{key:"open",value:function(e){var r,n,o;this._popupImage.src=e.link,this._popupTitle.textContent=e.name,(r=t,n=this,"function"==typeof(o=L(I(1&3?r.prototype:r),"open",n))?function(e){return o.apply(n,e)}:o)([])}}],n&&j(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n}(w);function x(e){return x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},x(e)}function D(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,R(n.key),n)}}function R(e){var t=function(e){if("object"!=x(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=x(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==x(t)?t:t+""}function A(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(A=function(){return!!e})()}function U(e,t,r,n){var o=B(N(1&n?e.prototype:e),t,r);return 2&n&&"function"==typeof o?function(e){return o.apply(r,e)}:o}function B(){return B="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=N(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},B.apply(null,arguments)}function N(e){return N=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},N(e)}function H(e,t){return H=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},H(e,t)}var V=function(e){function t(e){var r,n=e.popupSelector,o=e.formSubmiter,i=e.formResetter;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=function(e,t,r){return t=N(t),function(e,t){if(t&&("object"==x(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,A()?Reflect.construct(t,r||[],N(e).constructor):t.apply(e,r))}(this,t,[n]))._formSubmiter=o,r._popupForm=r._popup.querySelector(".popup__form"),r._inputs=Array.from(r._popupForm.querySelectorAll(".popup__input")),r._formResetter=i,r._sumbitHandler=r._sumbitHandler.bind(r),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&H(e,t)}(t,e),r=t,(n=[{key:"_getInputValues",value:function(){return this._inputs.map((function(e){return e.value}))}},{key:"setEventListeners",value:function(){U(t,"setEventListeners",this,3)([]),this._popupForm.addEventListener("submit",this._sumbitHandler)}},{key:"_sumbitHandler",value:function(e){var t=this._getInputValues();this._formSubmiter(e,t),this.close()}},{key:"close",value:function(){U(t,"close",this,3)([]),this._popupForm.removeEventListener("submit",this._sumbitHandler),this._formResetter()}}])&&D(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n}(w);function J(e){return J="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},J(e)}function M(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,F(n.key),n)}}function F(e){var t=function(e){if("object"!=J(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=J(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==J(t)?t:t+""}function G(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(G=function(){return!!e})()}function z(e,t,r,n){var o=K(Q(1&n?e.prototype:e),t,r);return 2&n&&"function"==typeof o?function(e){return o.apply(r,e)}:o}function K(){return K="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=Q(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},K.apply(null,arguments)}function Q(e){return Q=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Q(e)}function W(e,t){return W=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},W(e,t)}var X=function(e){function t(e){var r,n=e.popupSelector,o=e.removeCard,i=e.cardId,u=e.DOMElement;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=function(e,t,r){return t=Q(t),function(e,t){if(t&&("object"==J(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,G()?Reflect.construct(t,r||[],Q(e).constructor):t.apply(e,r))}(this,t,[n]))._removeCard=o,r._cardId=i,r._DOMElement=u,r._clickHandler=r._clickHandler.bind(r),r._confirmationButton=document.querySelector(".popup-with-confirmation__submit-button"),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&W(e,t)}(t,e),r=t,(n=[{key:"setEventListeners",value:function(){z(t,"setEventListeners",this,3)([]),this._confirmationButton.addEventListener("click",this._clickHandler)}},{key:"_clickHandler",value:function(){this._removeCard(this._cardId,this._DOMElement),this.close()}},{key:"close",value:function(){z(t,"close",this,3)([]),this._confirmationButton.removeEventListener("click",this._clickHandler)}}])&&M(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n}(w);function Y(e){return Y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Y(e)}function Z(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,$(n.key),n)}}function $(e){var t=function(e){if("object"!=Y(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=Y(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Y(t)?t:t+""}var ee,te,re,ne=new(function(){return e=function e(t){var r=t.baseUrl,n=t.headers;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._baseUrl=r,this._headers=n},(t=[{key:"getUser",value:function(){return fetch("".concat(this._baseUrl,"/users/me"),{method:"GET",headers:this._headers})}},{key:"getInitialCards",value:function(){return fetch("".concat(this._baseUrl,"/cards"),{method:"GET",headers:this._headers})}},{key:"saveProfileInfo",value:function(e,t){return fetch("".concat(this._baseUrl,"/users/me"),{method:"PATCH",headers:this._headers,body:JSON.stringify({name:e,about:t})})}},{key:"addCard",value:function(e,t){return fetch("".concat(this._baseUrl,"/cards"),{method:"POST",headers:this._headers,body:JSON.stringify({name:e,link:t})})}},{key:"addCardLike",value:function(e,t){return fetch("".concat(this._baseUrl,"/cards/likes/").concat(t),{method:"PUT",headers:this._headers,body:JSON.stringify(e)})}},{key:"removeCardLike",value:function(e,t){return fetch("".concat(this._baseUrl,"/cards/likes/").concat(t),{method:"DELETE",headers:this._headers,body:JSON.stringify({item:e})})}},{key:"deleteCard",value:function(e){return fetch("".concat(this._baseUrl,"/cards/").concat(e),{method:"DELETE",headers:this._headers})}},{key:"updateProfilePicture",value:function(e){return fetch("".concat(this._baseUrl,"/users/me/avatar"),{method:"PATCH",headers:this._headers,body:JSON.stringify({avatar:e})})}}])&&Z(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}())({baseUrl:"https://around.nomoreparties.co/v1/web-ptbr-cohort-13",headers:{authorization:"43bee733-4d07-4864-b830-d3fe06d29659","Content-Type":"application/json"}});function oe(e,t){e.likes.push(t);var r=e._id;ne.addCardLike(e,r).then((function(e){return e.ok?e.json():Promise.reject("Error: ".concat(e.status))})).then((function(e){console.log(e)})).catch((function(e){console.log(e)}))}function ie(e,t){e.likes=e.likes.filter((function(e){if(e._id!=t)return!0}));var r=e._id;ne.removeCardLike(e,r).then((function(e){return e.ok?e.json():Promise.reject("Error: ".concat(e.status))})).then((function(e){console.log(e)})).catch((function(e){console.log(e)}))}function ue(e,t){ne.deleteCard(e).then((function(e){return e.ok?e.json():Promise.reject("Error: ".concat(e.status))})).then((function(e){console.log(e),t.remove()})).catch((function(e){console.log(e)}))}function ce(e,t){new X({popupSelector:".popup-with-confirmation__container",removeCard:ue,cardId:e,DOMElement:t}).open()}var le=new S({profileNameSelector:".profile__name",profileDescriptionSelector:".profile__description"});ne.getUser().then((function(e){return e.ok?e.json():Promise.reject("Error: ".concat(e.status))})).then((function(e){ee=e,le.setUserInfo(ee),ne.getInitialCards().then((function(e){return e.ok?e.json():Promise.reject("Error: ".concat(e.status))})).then((function(e){console.log(e);var t=e.reverse();re=new q(".image-popup__container"),(te=new p({items:t,renderer:function(e){var t=new d({item:e,templateSelector:"#card-template",handleCardClick:function(e){return re.open(e)},addLike:oe,removeLike:ie,user:ee,removeCard:ue,handleDeleteClick:ce}),r=t.generateCard();te.addItem(r)}},".gallery__cards")).renderItems()})).catch((function(e){console.log(e)}))})).catch((function(e){console.log(e)})),Array.from(document.forms).forEach((function(e){new u(c,e).enableValidation(c,e)}));var ae=new V({popupSelector:".edit-profile-popup__container",formSubmiter:function(e,t){e.preventDefault();var r=t[0],n=t[1],o=document.querySelector(".edit-profile-popup__submit-button");o.textContent="Salvando...",ne.saveProfileInfo(r,n).then((function(e){return e.ok?e.json():Promise.reject("Error: ".concat(e.status))})).then((function(e){ee=e,le.setUserInfo(ee)})).catch((function(e){console.log(e)})).finally((function(){o.textContent="Salvar"}))},formResetter:l});document.querySelector(".profile__edit-icon").addEventListener("click",(function(){var e=le.getUserInfo();document.querySelector(".edit-profile-popup__input_name").value=e.userName,document.querySelector(".edit-profile-popup__input_about").value=e.userDescription,ae.open()}));var se=new V({popupSelector:".add-card-popup__container",formSubmiter:function(e,t){e.preventDefault();var r=t[0],n=t[1],o=document.querySelector(".add-card-popup__submit-button");o.textContent="Salvando...",ne.addCard(r,n).then((function(e){return e.ok?e.json():Promise.reject("Error: ".concat(e.status))})).then((function(e){console.log(e);var t=new d({item:e,templateSelector:"#card-template",handleCardClick:function(e){return re.open(e)},addLike:oe,removeLike:ie,user:ee,removeCard:ue,handleDeleteClick:ce}).generateCard();te.addItem(t)})).catch((function(e){console.log(e)})).finally((function(){o.textContent="Criar"})),o.classList.add("popup__submit-button_inactive"),o.setAttribute("disabled",!0)},formResetter:l});document.querySelector(".profile__add-button").addEventListener("click",(function(){se.open()}));var fe=new V({popupSelector:".update-profile-picture-popup__container",formSubmiter:function(e,t){e.preventDefault();var r=t[0],n=document.querySelector(".update-profile-picture-popup__submit-button");n.textContent="Salvando...",ne.updateProfilePicture(r).then((function(e){return e.ok?e.json():Promise.reject("Error: ".concat(e.status))})).then((function(e){le.setUserInfo(e)})).catch((function(e){console.log(e)})).finally((function(){n.textContent="Salvar"}))},formResetter:l});document.querySelector(".profile__picture-container").addEventListener("click",(function(){fe.open()}))}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Q0MsR0FDTkgsUUFBUUMsSUFBSUUsRUFDZCxJQUNDdUIsU0FBUSxXQUNQSSxFQUFhdkssWUFBYyxPQUM3QixJQUdGdUssRUFBYTlLLFVBQVVDLElBQUksaUNBQzNCNkssRUFBYTVLLGFBQWEsWUFBWSxFQUN4QyxFQUNBb0csYUFBYzdGLElBR01wRCxTQUFTOEIsY0FBYyx3QkFDL0JJLGlCQUFpQixTQUFTLFdBQ3RDc0wsR0FBcUJyQixNQUN2QixJQUVBLElBQU13QixHQUE4QixJQUFJNUUsRUFBYyxDQUNwRHBCLGNBQWUsMkNBQ2ZxQixhQUFjLFNBQUNWLEVBQU9vQixHQUNwQnBCLEVBQU00RSxpQkFFTixJQUFNekYsRUFBU2lDLEVBQWEsR0FHdEJ5RCxFQUFTbk4sU0FBUzhCLGNBQ3RCLGdEQUVGcUwsRUFBT2pLLFlBQWMsY0FFckJrSCxHQUNHd0QscUJBQXFCbkcsR0FDckIwRCxNQUFLLFNBQUNDLEdBQ0wsT0FBSUEsRUFBSUMsR0FDQ0QsRUFBSUUsT0FFTkMsUUFBUUMsT0FBTyxVQUFEYixPQUFXUyxFQUFJSyxRQUN0QyxJQUNDTixNQUFLLFNBQUMwQyxHQUNMekIsR0FBU0UsWUFBWXVCLEVBQ3ZCLElBQ0NoQyxPQUFNLFNBQUNDLEdBQ05ILFFBQVFDLElBQUlFLEVBQ2QsSUFDQ3VCLFNBQVEsV0FDUEYsRUFBT2pLLFlBQWMsUUFDdkIsR0FDSixFQUNBK0YsYUFBYzdGLElBRU9wRCxTQUFTOEIsY0FBYywrQkFDL0JJLGlCQUFpQixTQUFTLFdBQ3ZDeUwsR0FBNEJ4QixNQUM5QixHIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfYXJvdW5kL3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL3dlYl9wcm9qZWN0X2Fyb3VuZC93ZWJwYWNrL3J1bnRpbWUvaGFzT3duUHJvcGVydHkgc2hvcnRoYW5kIiwid2VicGFjazovL3dlYl9wcm9qZWN0X2Fyb3VuZC93ZWJwYWNrL3J1bnRpbWUvcHVibGljUGF0aCIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF9hcm91bmQvd2VicGFjay9ydW50aW1lL2pzb25wIGNodW5rIGxvYWRpbmciLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfYXJvdW5kLy4vc3JjL2NvbXBvbmVudHMvRm9ybVZhbGlkYXRvci5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF9hcm91bmQvLi9zcmMvY29tcG9uZW50cy9TZWN0aW9uLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0X2Fyb3VuZC8uL3NyYy9jb21wb25lbnRzL0NhcmQuanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfYXJvdW5kLy4vc3JjL2NvbXBvbmVudHMvVXNlckluZm8uanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfYXJvdW5kLy4vc3JjL2NvbXBvbmVudHMvUG9wdXAuanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfYXJvdW5kLy4vc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoSW1hZ2UuanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfYXJvdW5kLy4vc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybS5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF9hcm91bmQvLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhDb25maXJtYXRpb24uanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfYXJvdW5kLy4vc3JjL3BhZ2UvaW5kZXguanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfYXJvdW5kLy4vc3JjL2NvbXBvbmVudHMvQVBJLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIFRoZSBtb2R1bGUgY2FjaGVcbnZhciBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18gPSB7fTtcblxuLy8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbmZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG5cdHZhciBjYWNoZWRNb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdO1xuXHRpZiAoY2FjaGVkTW9kdWxlICE9PSB1bmRlZmluZWQpIHtcblx0XHRyZXR1cm4gY2FjaGVkTW9kdWxlLmV4cG9ydHM7XG5cdH1cblx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcblx0dmFyIG1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0gPSB7XG5cdFx0Ly8gbm8gbW9kdWxlLmlkIG5lZWRlZFxuXHRcdC8vIG5vIG1vZHVsZS5sb2FkZWQgbmVlZGVkXG5cdFx0ZXhwb3J0czoge31cblx0fTtcblxuXHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cblx0X193ZWJwYWNrX21vZHVsZXNfX1ttb2R1bGVJZF0obW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cblx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcblx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufVxuXG4vLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuX193ZWJwYWNrX3JlcXVpcmVfXy5tID0gX193ZWJwYWNrX21vZHVsZXNfXztcblxuIiwiX193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqLCBwcm9wKSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBwcm9wKTsgfSIsIl9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5iID0gZG9jdW1lbnQuYmFzZVVSSSB8fCBzZWxmLmxvY2F0aW9uLmhyZWY7XG5cbi8vIG9iamVjdCB0byBzdG9yZSBsb2FkZWQgYW5kIGxvYWRpbmcgY2h1bmtzXG4vLyB1bmRlZmluZWQgPSBjaHVuayBub3QgbG9hZGVkLCBudWxsID0gY2h1bmsgcHJlbG9hZGVkL3ByZWZldGNoZWRcbi8vIFtyZXNvbHZlLCByZWplY3QsIFByb21pc2VdID0gY2h1bmsgbG9hZGluZywgMCA9IGNodW5rIGxvYWRlZFxudmFyIGluc3RhbGxlZENodW5rcyA9IHtcblx0NzkyOiAwXG59O1xuXG4vLyBubyBjaHVuayBvbiBkZW1hbmQgbG9hZGluZ1xuXG4vLyBubyBwcmVmZXRjaGluZ1xuXG4vLyBubyBwcmVsb2FkZWRcblxuLy8gbm8gSE1SXG5cbi8vIG5vIEhNUiBtYW5pZmVzdFxuXG4vLyBubyBvbiBjaHVua3MgbG9hZGVkXG5cbi8vIG5vIGpzb25wIGZ1bmN0aW9uIiwiZXhwb3J0IGNsYXNzIEZvcm1WYWxpZGF0b3Ige1xyXG4gIGNvbnN0cnVjdG9yKGNvbmZpZywgZm9ybUVsZW1lbnQpIHtcclxuICAgIHRoaXMuX2lucHV0c1NlbGVjdG9yID0gY29uZmlnLmlucHV0c1NlbGVjdG9yO1xyXG4gICAgdGhpcy5fYnV0dG9uRWxlbWVudFNlbGVjdG9yID0gY29uZmlnLmJ1dHRvbkVsZW1lbnRTZWxlY3RvcjtcclxuICAgIHRoaXMuX2J1dHRvbkVsZW1lbnRDbGFzcyA9IGNvbmZpZy5idXR0b25FbGVtZW50Q2xhc3M7XHJcbiAgICB0aGlzLl9lcnJvckNsYXNzID0gY29uZmlnLmVycm9yQ2xhc3M7XHJcbiAgICB0aGlzLl9pbnB1dEVycm9yQ2xhc3MgPSBjb25maWcuaW5wdXRFcnJvckNsYXNzO1xyXG4gICAgdGhpcy5fZm9ybUVsZW1lbnQgPSBmb3JtRWxlbWVudDtcclxuICB9XHJcblxyXG4gIGVuYWJsZVZhbGlkYXRpb24oKSB7XHJcbiAgICB0aGlzLl92YWxpZGF0ZUlucHV0cygpO1xyXG4gIH1cclxuICBfdmFsaWRhdGVJbnB1dHMoKSB7XHJcbiAgICBjb25zdCBpbnB1dHMgPSBBcnJheS5mcm9tKFxyXG4gICAgICB0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKHRoaXMuX2lucHV0c1NlbGVjdG9yKVxyXG4gICAgKTtcclxuICAgIGNvbnN0IGJ1dHRvbkVsZW1lbnQgPSB0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKFxyXG4gICAgICB0aGlzLl9idXR0b25FbGVtZW50U2VsZWN0b3JcclxuICAgICk7XHJcbiAgICB0aGlzLl90b2dnbGVCdXR0b25TdGF0ZShpbnB1dHMsIGJ1dHRvbkVsZW1lbnQsIGNvbmZpZyk7XHJcblxyXG4gICAgaW5wdXRzLmZvckVhY2goKGlucHV0RWxlbWVudCkgPT4ge1xyXG4gICAgICBpbnB1dEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImlucHV0XCIsICgpID0+IHtcclxuICAgICAgICB0aGlzLl9pc1ZhbGlkKGlucHV0RWxlbWVudCk7XHJcbiAgICAgICAgdGhpcy5fdG9nZ2xlQnV0dG9uU3RhdGUoaW5wdXRzLCBidXR0b25FbGVtZW50KTtcclxuICAgICAgfSk7XHJcbiAgICB9KTtcclxuICB9XHJcbiAgX2lzVmFsaWQoaW5wdXRFbGVtZW50KSB7XHJcbiAgICBpZiAoIWlucHV0RWxlbWVudC52YWxpZGl0eS52YWxpZCkge1xyXG4gICAgICBjb25zdCBpbnB1dEVsZW1lbnRWYWxpZGF0aW9uTWVzc2FnZSA9IGlucHV0RWxlbWVudC52YWxpZGF0aW9uTWVzc2FnZTtcclxuICAgICAgdGhpcy5fc2hvd0lucHV0RXJyb3IoaW5wdXRFbGVtZW50LCBpbnB1dEVsZW1lbnRWYWxpZGF0aW9uTWVzc2FnZSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLl9oaWRlSW5wdXRFcnJvcihpbnB1dEVsZW1lbnQpO1xyXG4gICAgfVxyXG4gIH1cclxuICBfdG9nZ2xlQnV0dG9uU3RhdGUoaW5wdXRzLCBidXR0b25FbGVtZW50KSB7XHJcbiAgICBpZiAodGhpcy5faGFzSW52YWxpZElucHV0KGlucHV0cykpIHtcclxuICAgICAgYnV0dG9uRWxlbWVudC5jbGFzc0xpc3QuYWRkKGNvbmZpZy5idXR0b25FbGVtZW50Q2xhc3MpO1xyXG4gICAgICBidXR0b25FbGVtZW50LnNldEF0dHJpYnV0ZShcImRpc2FibGVkXCIsIHRydWUpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgYnV0dG9uRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2J1dHRvbkVsZW1lbnRDbGFzcyk7XHJcbiAgICAgIGJ1dHRvbkVsZW1lbnQucmVtb3ZlQXR0cmlidXRlKFwiZGlzYWJsZWRcIiwgdHJ1ZSk7XHJcbiAgICB9XHJcbiAgfVxyXG4gIF9zaG93SW5wdXRFcnJvcihpbnB1dEVsZW1lbnQsIGlucHV0RWxlbWVudFZhbGlkYXRpb25NZXNzYWdlKSB7XHJcbiAgICBjb25zdCBlcnJvckVsZW1lbnQgPSBpbnB1dEVsZW1lbnQubmV4dEVsZW1lbnRTaWJsaW5nO1xyXG5cclxuICAgIGlucHV0RWxlbWVudC5jbGFzc0xpc3QuYWRkKHRoaXMuX2lucHV0RXJyb3JDbGFzcyk7XHJcbiAgICBlcnJvckVsZW1lbnQuY2xhc3NMaXN0LmFkZCh0aGlzLl9lcnJvckNsYXNzKTtcclxuICAgIGVycm9yRWxlbWVudC50ZXh0Q29udGVudCA9IGlucHV0RWxlbWVudFZhbGlkYXRpb25NZXNzYWdlO1xyXG4gIH1cclxuICBfaGlkZUlucHV0RXJyb3IoaW5wdXRFbGVtZW50KSB7XHJcbiAgICBjb25zdCBlcnJvckVsZW1lbnQgPSBpbnB1dEVsZW1lbnQubmV4dEVsZW1lbnRTaWJsaW5nO1xyXG5cclxuICAgIGlucHV0RWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2lucHV0RXJyb3JDbGFzcyk7XHJcbiAgICBlcnJvckVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9lcnJvckNsYXNzKTtcclxuICAgIGVycm9yRWxlbWVudC50ZXh0Q29udGVudCA9IFwiXCI7XHJcbiAgfVxyXG4gIF9oYXNJbnZhbGlkSW5wdXQoaW5wdXRzKSB7XHJcbiAgICByZXR1cm4gaW5wdXRzLnNvbWUoKGlucHV0RWxlbWVudCkgPT4ge1xyXG4gICAgICByZXR1cm4gIWlucHV0RWxlbWVudC52YWxpZGl0eS52YWxpZDtcclxuICAgIH0pO1xyXG4gIH1cclxufVxyXG5cclxuLyogdGFyZWZhIGV4dHJhIGRvIHNwcmludCA5OiByZXNldGFyIGZvcm11bMOhcmlvIHF1YW5kbyBvIHBvcHVwIMOpIGZlY2hhZG8gICovXHJcbmV4cG9ydCBjb25zdCBjb25maWcgPSB7XHJcbiAgaW5wdXRzU2VsZWN0b3I6IFwiLnBvcHVwX19pbnB1dFwiLFxyXG4gIGJ1dHRvbkVsZW1lbnRTZWxlY3RvcjogXCIucG9wdXBfX3N1Ym1pdC1idXR0b25cIixcclxuICBidXR0b25FbGVtZW50Q2xhc3M6IFwicG9wdXBfX3N1Ym1pdC1idXR0b25faW5hY3RpdmVcIixcclxuICBlcnJvckNsYXNzOiBcInBvcHVwX19pbnB1dC1lcnJvcl9hY3RpdmVcIixcclxuICBpbnB1dEVycm9yQ2xhc3M6IFwicG9wdXBfX2lucHV0X3R5cGVfZXJyb3JcIixcclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCByZXNldFZhbGlkYXRpb24gPSAoKSA9PiB7XHJcbiAgY29uc3QgZm9ybUxpc3QgPSBBcnJheS5mcm9tKGRvY3VtZW50LmZvcm1zKTtcclxuXHJcbiAgZm9ybUxpc3QuZm9yRWFjaCgoZm9ybUVsZW1lbnQpID0+IHtcclxuICAgIGNvbnN0IGlucHV0cyA9IEFycmF5LmZyb20oXHJcbiAgICAgIGZvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoY29uZmlnLmlucHV0c1NlbGVjdG9yKVxyXG4gICAgKTtcclxuXHJcbiAgICBmb3JtRWxlbWVudC5yZXNldCgpO1xyXG5cclxuICAgIGlucHV0cy5mb3JFYWNoKChpbnB1dEVsZW1lbnQpID0+IHtcclxuICAgICAgY29uc3QgZXJyb3JFbGVtZW50ID0gaW5wdXRFbGVtZW50Lm5leHRFbGVtZW50U2libGluZztcclxuXHJcbiAgICAgIGlucHV0RWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKGNvbmZpZy5pbnB1dEVycm9yQ2xhc3MpO1xyXG4gICAgICBlcnJvckVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShjb25maWcuZXJyb3JDbGFzcyk7XHJcbiAgICAgIGVycm9yRWxlbWVudC50ZXh0Q29udGVudCA9IFwiXCI7XHJcbiAgICB9KTtcclxuICB9KTtcclxufTtcclxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgU2VjdGlvbiB7XG4gIGNvbnN0cnVjdG9yKHsgaXRlbXMsIHJlbmRlcmVyIH0sIGNvbnRhaW5lclNlbGVjdG9yKSB7XG4gICAgdGhpcy5faXRlbXMgPSBpdGVtcztcbiAgICB0aGlzLl9yZW5kZXJlciA9IHJlbmRlcmVyO1xuICAgIHRoaXMuX2NvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoY29udGFpbmVyU2VsZWN0b3IpO1xuICB9XG5cbiAgcmVuZGVySXRlbXMoKSB7XG4gICAgdGhpcy5faXRlbXMuZm9yRWFjaCgoaXRlbSkgPT4ge1xuICAgICAgdGhpcy5fcmVuZGVyZXIoaXRlbSk7XG4gICAgfSk7XG4gIH1cblxuICBhZGRJdGVtKGVsZW1lbnQpIHtcbiAgICB0aGlzLl9jb250YWluZXIucHJlcGVuZChlbGVtZW50KTtcbiAgfVxufVxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ2FyZCB7XHJcbiAgY29uc3RydWN0b3Ioe1xyXG4gICAgaXRlbSxcclxuICAgIHRlbXBsYXRlU2VsZWN0b3IsXHJcbiAgICBoYW5kbGVDYXJkQ2xpY2ssXHJcbiAgICBhZGRMaWtlLFxyXG4gICAgcmVtb3ZlTGlrZSxcclxuICAgIHVzZXIsXHJcbiAgICByZW1vdmVDYXJkLFxyXG4gICAgaGFuZGxlRGVsZXRlQ2xpY2ssXHJcbiAgfSkge1xyXG4gICAgdGhpcy5faXRlbSA9IGl0ZW07XHJcbiAgICB0aGlzLl9uYW1lID0gaXRlbS5uYW1lO1xyXG4gICAgdGhpcy5fbGluayA9IGl0ZW0ubGluaztcclxuICAgIHRoaXMuX2xpa2VzID0gaXRlbS5saWtlcztcclxuICAgIHRoaXMuX293bmVyID0gaXRlbS5vd25lcjtcclxuICAgIHRoaXMuX2NhcmRJZCA9IGl0ZW0uX2lkO1xyXG4gICAgdGhpcy5fdGVtcGxhdGVTZWxlY3RvciA9IHRlbXBsYXRlU2VsZWN0b3I7XHJcbiAgICB0aGlzLl9oYW5kbGVDYXJkQ2xpY2sgPSBoYW5kbGVDYXJkQ2xpY2s7XHJcbiAgICB0aGlzLl9hZGRMaWtlID0gYWRkTGlrZTtcclxuICAgIHRoaXMuX3JlbW92ZUxpa2UgPSByZW1vdmVMaWtlO1xyXG4gICAgdGhpcy5fdXNlciA9IHVzZXI7XHJcbiAgICB0aGlzLl91c2VySWQgPSB1c2VyLl9pZDtcclxuICAgIHRoaXMuX3JlbW92ZUNhcmQgPSByZW1vdmVDYXJkO1xyXG4gICAgdGhpcy5faGFuZGxlRGVsZXRlQ2xpY2sgPSBoYW5kbGVEZWxldGVDbGljaztcclxuICB9XHJcbiAgX2dldFRlbXBsYXRlKCkge1xyXG4gICAgY29uc3QgdGVtcGxhdGVFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcclxuICAgICAgdGhpcy5fdGVtcGxhdGVTZWxlY3RvclxyXG4gICAgKS5jb250ZW50O1xyXG4gICAgY29uc3QgY2FyZEVsZW1lbnQgPSB0ZW1wbGF0ZUVsZW1lbnRcclxuICAgICAgLnF1ZXJ5U2VsZWN0b3IoXCIuZ2FsbGVyeV9fY2FyZFwiKVxyXG4gICAgICAuY2xvbmVOb2RlKHRydWUpO1xyXG5cclxuICAgIHJldHVybiBjYXJkRWxlbWVudDtcclxuICB9XHJcbiAgZ2VuZXJhdGVDYXJkKCkge1xyXG4gICAgdGhpcy5fZWxlbWVudCA9IHRoaXMuX2dldFRlbXBsYXRlKCk7XHJcblxyXG4gICAgLy9zZXQgY2FyZCBpbmZvXHJcbiAgICB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZ2FsbGVyeV9fY2FyZC10aXRsZVwiKS50ZXh0Q29udGVudCA9XHJcbiAgICAgIHRoaXMuX25hbWU7XHJcbiAgICB0aGlzLl9lbGVtZW50XHJcbiAgICAgIC5xdWVyeVNlbGVjdG9yKFwiLmdhbGxlcnlfX2NhcmQtdGl0bGVcIilcclxuICAgICAgLnNldEF0dHJpYnV0ZShcImFsdFwiLCB0aGlzLl9uYW1lKTtcclxuICAgIHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5nYWxsZXJ5X19jYXJkLWltYWdlXCIpLnNyYyA9IHRoaXMuX2xpbms7XHJcblxyXG4gICAgLy9saWtlIGluZm9cclxuICAgIHRoaXMuX2xpa2VDb3VudCA9IHRoaXMuX2xpa2VzLmxlbmd0aDtcclxuICAgIHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5nYWxsZXJ5X19saWtlLWNvdW50XCIpLnRleHRDb250ZW50ID1cclxuICAgICAgdGhpcy5fbGlrZUNvdW50O1xyXG4gICAgdGhpcy5fbGlrZUJ1dHRvbiA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5nYWxsZXJ5X19oZWFydC1pY29uXCIpO1xyXG5cclxuICAgIHRoaXMuX2hlYXJ0SWNvbiA9IG5ldyBVUkwoXCIuLi9pbWFnZXMvaGVhcnQtaWNvbi5wbmdcIiwgaW1wb3J0Lm1ldGEudXJsKTtcclxuICAgIHRoaXMuX2hlYXJ0SWNvbkFjdGl2ZSA9IG5ldyBVUkwoXHJcbiAgICAgIFwiLi4vaW1hZ2VzL2hlYXJ0LWljb24tYWN0aXZlLnBuZ1wiLFxyXG4gICAgICBpbXBvcnQubWV0YS51cmxcclxuICAgICk7XHJcblxyXG4gICAgLy92ZXJpZmljYSBzZSBldSBqw6EgY3VydGkgbyBjYXJ0w6NvIHBhcmEgcXVlIGFwYXJlw6dhIG5hIHRlbGEgbyBib3TDo28gZGUgbGlrZSBhdGl2by4gQ29tcGFyYSBvIGlkIGRlIGNhZGEgb2JqZXRvIGRvIHZldG9yIGRlIGxpa2VzIGRvIGNhcnTDo28gY29tIG8gaWQgZG8gdXN1w6FyaW9cclxuICAgIGNvbnN0IGhhc1VzZXJMaWtlID0gdGhpcy5fbGlrZXMuc29tZSgobGlrZSkgPT4ge1xyXG4gICAgICBpZiAobGlrZS5faWQgPT09IHRoaXMuX3VzZXJJZCkge1xyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICBpZiAoaGFzVXNlckxpa2UpIHtcclxuICAgICAgdGhpcy5fbGlrZUJ1dHRvbi5zZXRBdHRyaWJ1dGUoXCJzcmNcIiwgdGhpcy5faGVhcnRJY29uQWN0aXZlKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuX2xpa2VCdXR0b24uc2V0QXR0cmlidXRlKFwic3JjXCIsIHRoaXMuX2hlYXJ0SWNvbik7XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5fc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuXHJcbiAgICAvL3ZlcmlmaWNhIHNlIG8gY2FyZCBmb2kgY3JpYWRvIHBvciBtaW0gcGFyYSBtb3N0cmFyIG91IG7Do28gbyBkZWxldGUgaWNvblxyXG4gICAgdGhpcy5fZGVsZXRlSWNvbiA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5nYWxsZXJ5X19kZWxldGUtaWNvblwiKTtcclxuXHJcbiAgICBpZiAodGhpcy5fb3duZXIuX2lkICE9PSB0aGlzLl91c2VySWQpIHtcclxuICAgICAgdGhpcy5fZGVsZXRlSWNvbi5jbGFzc0xpc3QuYWRkKFwiZ2FsbGVyeV9fZGVsZXRlLWljb25faW5hY3RpdmVcIik7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLl9kZWxldGVJY29uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5faGFuZGxlRGVsZXRlQ2xpY2sodGhpcy5fY2FyZElkLCB0aGlzLl9lbGVtZW50KTtcclxuICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHRoaXMuX2VsZW1lbnQ7XHJcbiAgfVxyXG4gIF9zZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgIGNvbnN0IGNhcmRJbWFnZSA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5nYWxsZXJ5X19jYXJkLWltYWdlXCIpO1xyXG5cclxuICAgIGNhcmRJbWFnZS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgICB0aGlzLl9oYW5kbGVDYXJkQ2xpY2soeyBuYW1lOiB0aGlzLl9uYW1lLCBsaW5rOiB0aGlzLl9saW5rIH0pO1xyXG4gICAgfSk7XHJcblxyXG4gICAgdGhpcy5fbGlrZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgICB0aGlzLl9lbmFibGVMaWtlQnV0dG9uKCk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIF9lbmFibGVMaWtlQnV0dG9uKCkge1xyXG4gICAgdGhpcy5faGVhcnRJY29uU291cmNlID0gdGhpcy5fbGlrZUJ1dHRvbi5nZXRBdHRyaWJ1dGUoXCJzcmNcIik7XHJcbiAgICBpZiAodGhpcy5faGVhcnRJY29uLmhyZWYuaW5jbHVkZXModGhpcy5faGVhcnRJY29uU291cmNlKSkge1xyXG4gICAgICB0aGlzLl9saWtlQnV0dG9uLnNldEF0dHJpYnV0ZShcInNyY1wiLCB0aGlzLl9oZWFydEljb25BY3RpdmUpO1xyXG4gICAgICB0aGlzLl9hZGRMaWtlKHRoaXMuX2l0ZW0sIHRoaXMuX3VzZXIpO1xyXG5cclxuICAgICAgLyogYXR1YWxpemFyIGNvbnRhZ2VtIGRlIGxpa2VzICovXHJcbiAgICAgIHRoaXMuX2xpa2VDb3VudCsrO1xyXG4gICAgICB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZ2FsbGVyeV9fbGlrZS1jb3VudFwiKS50ZXh0Q29udGVudCA9XHJcbiAgICAgICAgdGhpcy5fbGlrZUNvdW50O1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5fbGlrZUJ1dHRvbi5zZXRBdHRyaWJ1dGUoXCJzcmNcIiwgdGhpcy5faGVhcnRJY29uKTtcclxuICAgICAgdGhpcy5fcmVtb3ZlTGlrZSh0aGlzLl9pdGVtLCB0aGlzLl91c2VySWQpO1xyXG5cclxuICAgICAgdGhpcy5fbGlrZUNvdW50LS07XHJcbiAgICAgIHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5nYWxsZXJ5X19saWtlLWNvdW50XCIpLnRleHRDb250ZW50ID1cclxuICAgICAgICB0aGlzLl9saWtlQ291bnQ7XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFVzZXJJbmZvIHtcclxuICBjb25zdHJ1Y3Rvcih7IHByb2ZpbGVOYW1lU2VsZWN0b3IsIHByb2ZpbGVEZXNjcmlwdGlvblNlbGVjdG9yLCB1c2VyIH0pIHtcclxuICAgIHRoaXMuX3Byb2ZpbGVOYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihwcm9maWxlTmFtZVNlbGVjdG9yKTtcclxuICAgIHRoaXMuX3Byb2ZpbGVEZXNjcmlwdGlvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXHJcbiAgICAgIHByb2ZpbGVEZXNjcmlwdGlvblNlbGVjdG9yXHJcbiAgICApO1xyXG4gICAgdGhpcy5fcHJvZmlsZVBpY3R1cmUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX3BpY3R1cmVcIik7XHJcbiAgfVxyXG4gIGdldFVzZXJJbmZvKCkge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgdXNlck5hbWU6IHRoaXMuX3Byb2ZpbGVOYW1lLnRleHRDb250ZW50LFxyXG4gICAgICB1c2VyRGVzY3JpcHRpb246IHRoaXMuX3Byb2ZpbGVEZXNjcmlwdGlvbi50ZXh0Q29udGVudCxcclxuICAgIH07XHJcbiAgfVxyXG4gIHNldFVzZXJJbmZvKHVzZXIpIHtcclxuICAgIHRoaXMuX3Byb2ZpbGVOYW1lLnRleHRDb250ZW50ID0gdXNlci5uYW1lO1xyXG4gICAgdGhpcy5fcHJvZmlsZURlc2NyaXB0aW9uLnRleHRDb250ZW50ID0gdXNlci5hYm91dDtcclxuICAgIHRoaXMuX3Byb2ZpbGVQaWN0dXJlLnNldEF0dHJpYnV0ZShcInNyY1wiLCB1c2VyLmF2YXRhcik7XHJcbiAgfVxyXG59XHJcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwIHtcbiAgY29uc3RydWN0b3IocG9wdXBTZWxlY3Rvcikge1xuICAgIHRoaXMuX3BvcHVwID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihwb3B1cFNlbGVjdG9yKTtcbiAgICB0aGlzLl9wb3B1cFNlY3Rpb24gPSB0aGlzLl9wb3B1cC5wYXJlbnRFbGVtZW50O1xuICAgIHRoaXMuX3BvcHVwQ2xvc2VJY29uID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9fY2xvc2UtaWNvblwiKTtcbiAgICB0aGlzLl9oYW5kbGVFc2NDbG9zZSA9IHRoaXMuX2hhbmRsZUVzY0Nsb3NlLmJpbmQodGhpcyk7XG4gICAgdGhpcy5faGFuZGxlQ2xpY2tPdXRzaWRlID0gdGhpcy5faGFuZGxlQ2xpY2tPdXRzaWRlLmJpbmQodGhpcyk7XG4gICAgdGhpcy5jbG9zZSA9IHRoaXMuY2xvc2UuYmluZCh0aGlzKTtcbiAgfVxuXG4gIG9wZW4oKSB7XG4gICAgdGhpcy5fcG9wdXBTZWN0aW9uLmNsYXNzTGlzdC5hZGQoXCJwb3B1cF9wb3B1cF9vcGVuZWRcIik7XG4gICAgdGhpcy5zZXRFdmVudExpc3RlbmVycygpO1xuICB9XG4gIGNsb3NlKCkge1xuICAgIHRoaXMuX3BvcHVwU2VjdGlvbi5jbGFzc0xpc3QucmVtb3ZlKFwicG9wdXBfcG9wdXBfb3BlbmVkXCIpO1xuXG4gICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgdGhpcy5faGFuZGxlRXNjQ2xvc2UpO1xuICAgIHRoaXMuX3BvcHVwU2VjdGlvbi5yZW1vdmVFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgdGhpcy5faGFuZGxlQ2xpY2tPdXRzaWRlKTtcbiAgICB0aGlzLl9wb3B1cENsb3NlSWNvbi5yZW1vdmVFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgdGhpcy5jbG9zZSk7XG4gIH1cbiAgX2hhbmRsZUNsaWNrT3V0c2lkZShldmVudCkge1xuICAgIGlmIChldmVudC50YXJnZXQudGFnTmFtZSA9PSBcIlNFQ1RJT05cIikge1xuICAgICAgdGhpcy5jbG9zZSgpO1xuICAgIH1cbiAgfVxuICBfaGFuZGxlRXNjQ2xvc2UoZXZlbnQpIHtcbiAgICBpZiAoZXZlbnQua2V5ID09PSBcIkVzY2FwZVwiKSB7XG4gICAgICB0aGlzLmNsb3NlKCk7XG4gICAgfVxuICB9XG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIHRoaXMuX2hhbmRsZUVzY0Nsb3NlKTtcblxuICAgIHRoaXMuX3BvcHVwU2VjdGlvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgdGhpcy5faGFuZGxlQ2xpY2tPdXRzaWRlKTtcblxuICAgIHRoaXMuX3BvcHVwQ2xvc2VJY29uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCB0aGlzLmNsb3NlKTtcbiAgfVxufVxuIiwiaW1wb3J0IFBvcHVwIGZyb20gXCIuL1BvcHVwLmpzXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cFdpdGhJbWFnZSBleHRlbmRzIFBvcHVwIHtcclxuICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yKSB7XHJcbiAgICBzdXBlcihwb3B1cFNlbGVjdG9yKTtcclxuICAgIHRoaXMuX3BvcHVwSW1hZ2UgPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKFwiLmltYWdlLXBvcHVwX19pbWFnZVwiKTtcclxuICAgIHRoaXMuX3BvcHVwVGl0bGUgPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKFwiLmltYWdlLXBvcHVwX190aXRsZVwiKTtcclxuICB9XHJcblxyXG4gIG9wZW4oaXRlbSkge1xyXG4gICAgdGhpcy5fcG9wdXBJbWFnZS5zcmMgPSBpdGVtLmxpbms7XHJcbiAgICB0aGlzLl9wb3B1cFRpdGxlLnRleHRDb250ZW50ID0gaXRlbS5uYW1lO1xyXG4gICAgc3VwZXIub3BlbigpO1xyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXAuanNcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwV2l0aEZvcm0gZXh0ZW5kcyBQb3B1cCB7XHJcbiAgY29uc3RydWN0b3IoeyBwb3B1cFNlbGVjdG9yLCBmb3JtU3VibWl0ZXIsIGZvcm1SZXNldHRlciB9KSB7XHJcbiAgICBzdXBlcihwb3B1cFNlbGVjdG9yKTtcclxuICAgIHRoaXMuX2Zvcm1TdWJtaXRlciA9IGZvcm1TdWJtaXRlcjtcclxuICAgIHRoaXMuX3BvcHVwRm9ybSA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2Zvcm1cIik7XHJcbiAgICB0aGlzLl9pbnB1dHMgPSBBcnJheS5mcm9tKFxyXG4gICAgICB0aGlzLl9wb3B1cEZvcm0ucXVlcnlTZWxlY3RvckFsbChcIi5wb3B1cF9faW5wdXRcIilcclxuICAgICk7XHJcbiAgICB0aGlzLl9mb3JtUmVzZXR0ZXIgPSBmb3JtUmVzZXR0ZXI7XHJcbiAgICB0aGlzLl9zdW1iaXRIYW5kbGVyID0gdGhpcy5fc3VtYml0SGFuZGxlci5iaW5kKHRoaXMpO1xyXG4gIH1cclxuXHJcbiAgX2dldElucHV0VmFsdWVzKCkge1xyXG4gICAgcmV0dXJuIHRoaXMuX2lucHV0cy5tYXAoKGlucHV0KSA9PiBpbnB1dC52YWx1ZSk7XHJcbiAgfVxyXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgc3VwZXIuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuXHJcbiAgICB0aGlzLl9wb3B1cEZvcm0uYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCB0aGlzLl9zdW1iaXRIYW5kbGVyKTtcclxuICB9XHJcbiAgX3N1bWJpdEhhbmRsZXIoZXZlbnQpIHtcclxuICAgIGNvbnN0IGlucHV0c1ZhbHVlcyA9IHRoaXMuX2dldElucHV0VmFsdWVzKCk7XHJcbiAgICB0aGlzLl9mb3JtU3VibWl0ZXIoZXZlbnQsIGlucHV0c1ZhbHVlcyk7XHJcbiAgICB0aGlzLmNsb3NlKCk7XHJcbiAgfVxyXG4gIGNsb3NlKCkge1xyXG4gICAgc3VwZXIuY2xvc2UoKTtcclxuICAgIHRoaXMuX3BvcHVwRm9ybS5yZW1vdmVFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIHRoaXMuX3N1bWJpdEhhbmRsZXIpO1xyXG4gICAgdGhpcy5fZm9ybVJlc2V0dGVyKCk7XHJcbiAgfVxyXG59XHJcbiIsImltcG9ydCBQb3B1cCBmcm9tIFwiLi9Qb3B1cC5qc1wiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXBXaXRoQ29uZmlybWF0aW9uIGV4dGVuZHMgUG9wdXAge1xyXG4gIGNvbnN0cnVjdG9yKHsgcG9wdXBTZWxlY3RvciwgcmVtb3ZlQ2FyZCwgY2FyZElkLCBET01FbGVtZW50IH0pIHtcclxuICAgIHN1cGVyKHBvcHVwU2VsZWN0b3IpO1xyXG4gICAgdGhpcy5fcmVtb3ZlQ2FyZCA9IHJlbW92ZUNhcmQ7XHJcbiAgICB0aGlzLl9jYXJkSWQgPSBjYXJkSWQ7XHJcbiAgICB0aGlzLl9ET01FbGVtZW50ID0gRE9NRWxlbWVudDtcclxuICAgIHRoaXMuX2NsaWNrSGFuZGxlciA9IHRoaXMuX2NsaWNrSGFuZGxlci5iaW5kKHRoaXMpO1xyXG4gICAgdGhpcy5fY29uZmlybWF0aW9uQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcclxuICAgICAgXCIucG9wdXAtd2l0aC1jb25maXJtYXRpb25fX3N1Ym1pdC1idXR0b25cIlxyXG4gICAgKTtcclxuICB9XHJcblxyXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgc3VwZXIuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuXHJcbiAgICB0aGlzLl9jb25maXJtYXRpb25CdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHRoaXMuX2NsaWNrSGFuZGxlcik7XHJcbiAgfVxyXG4gIF9jbGlja0hhbmRsZXIoKSB7XHJcbiAgICB0aGlzLl9yZW1vdmVDYXJkKHRoaXMuX2NhcmRJZCwgdGhpcy5fRE9NRWxlbWVudCk7XHJcbiAgICB0aGlzLmNsb3NlKCk7XHJcbiAgfVxyXG4gIGNsb3NlKCkge1xyXG4gICAgc3VwZXIuY2xvc2UoKTtcclxuICAgIHRoaXMuX2NvbmZpcm1hdGlvbkJ1dHRvbi5yZW1vdmVFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgdGhpcy5fY2xpY2tIYW5kbGVyKTtcclxuICB9XHJcbn1cclxuIiwiaW1wb3J0IFwiLi9pbmRleC5jc3NcIjtcbmltcG9ydCB7XG4gIEZvcm1WYWxpZGF0b3IsXG4gIGNvbmZpZyxcbiAgcmVzZXRWYWxpZGF0aW9uLFxufSBmcm9tIFwiLi4vY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9yLmpzXCI7XG5pbXBvcnQgU2VjdGlvbiBmcm9tIFwiLi4vY29tcG9uZW50cy9TZWN0aW9uLmpzXCI7XG5pbXBvcnQgQ2FyZCBmcm9tIFwiLi4vY29tcG9uZW50cy9DYXJkLmpzXCI7XG5pbXBvcnQgVXNlckluZm8gZnJvbSBcIi4uL2NvbXBvbmVudHMvVXNlckluZm8uanNcIjtcbmltcG9ydCBQb3B1cFdpdGhJbWFnZSBmcm9tIFwiLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhJbWFnZS5qc1wiO1xuaW1wb3J0IFBvcHVwV2l0aEZvcm0gZnJvbSBcIi4uL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybS5qc1wiO1xuaW1wb3J0IFBvcHVwV2l0aENvbmZpcm1hdGlvbiBmcm9tIFwiLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhDb25maXJtYXRpb24uanNcIjtcbmltcG9ydCBBUEkgZnJvbSBcIi4uL2NvbXBvbmVudHMvQVBJLmpzXCI7XG5cbi8qIEluc3TDom5jaWEgZGEgQVBJICovXG5jb25zdCBhcGkgPSBuZXcgQVBJKHtcbiAgYmFzZVVybDogXCJodHRwczovL2Fyb3VuZC5ub21vcmVwYXJ0aWVzLmNvL3YxL3dlYi1wdGJyLWNvaG9ydC0xM1wiLFxuICBoZWFkZXJzOiB7XG4gICAgYXV0aG9yaXphdGlvbjogXCI0M2JlZTczMy00ZDA3LTQ4NjQtYjgzMC1kM2ZlMDZkMjk2NTlcIixcbiAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcbiAgfSxcbn0pO1xuXG4vL2Z1bsOnw6NvIHBhcsOibWV0cm8gZGEgY2xhc3NlIENhcmQuIEVsYSBzb2xpY2l0YSBvIG9iamV0byBjb20gaW5mb3JtYcOnw7VlcyBkbyB1c3XDoXJpbywgY29sb2NhIGVsZSBubyB2ZXRvciBkZSBsaWtlcyBkbyBjYXJ0w6NvIGUgbWFuZGEgYXMgaW5mb3JtYcOnw7VlcyBkbyBjYXJ0w6NvIHBhcmEgbyBzZXJ2aWRvciBwYXJhIGF0dWFsaXphw6fDo29cbmZ1bmN0aW9uIGFkZExpa2UoaXRlbSwgdXNlcikge1xuICBpdGVtLmxpa2VzLnB1c2godXNlcik7XG4gIGNvbnN0IGNhcmRJZCA9IGl0ZW0uX2lkO1xuXG4gIGFwaVxuICAgIC5hZGRDYXJkTGlrZShpdGVtLCBjYXJkSWQpXG4gICAgLnRoZW4oKHJlcykgPT4ge1xuICAgICAgaWYgKHJlcy5vaykge1xuICAgICAgICByZXR1cm4gcmVzLmpzb24oKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChgRXJyb3I6ICR7cmVzLnN0YXR1c31gKTtcbiAgICB9KVxuICAgIC50aGVuKChyZXN1bHQpID0+IHtcbiAgICAgIGNvbnNvbGUubG9nKHJlc3VsdCk7XG4gICAgfSlcbiAgICAuY2F0Y2goKGVycm9yKSA9PiB7XG4gICAgICBjb25zb2xlLmxvZyhlcnJvcik7XG4gICAgfSk7XG59XG4vL2Z1bsOnw6NvIHBhcsOibWV0cm8gZGEgY2xhc3NlIENhcmQuIEVsYSBzb2xpY2l0YSBvIG9iamV0byBjb20gaW5mb3JtYcOnw7VlcyBkbyB1c3XDoXJpbywgcmVtb3ZlIGVsZSBkbyB2ZXRvciBkZSBsaWtlcyBkbyBjYXJ0w6NvIGUgbWFuZGEgYXMgaW5mb3JtYcOnw7VlcyBkbyBjYXJ0w6NvIHBhcmEgbyBzZXJ2aWRvciBwYXJhIGF0dWFsaXphw6fDo29cbmZ1bmN0aW9uIHJlbW92ZUxpa2UoaXRlbSwgdXNlcklkKSB7XG4gIGl0ZW0ubGlrZXMgPSBpdGVtLmxpa2VzLmZpbHRlcigobGlrZSkgPT4ge1xuICAgIGlmIChsaWtlLl9pZCAhPSB1c2VySWQpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfSk7XG4gIGNvbnN0IGNhcmRJZCA9IGl0ZW0uX2lkO1xuXG4gIGFwaVxuICAgIC5yZW1vdmVDYXJkTGlrZShpdGVtLCBjYXJkSWQpXG4gICAgLnRoZW4oKHJlcykgPT4ge1xuICAgICAgaWYgKHJlcy5vaykge1xuICAgICAgICByZXR1cm4gcmVzLmpzb24oKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChgRXJyb3I6ICR7cmVzLnN0YXR1c31gKTtcbiAgICB9KVxuICAgIC50aGVuKChyZXN1bHQpID0+IHtcbiAgICAgIGNvbnNvbGUubG9nKHJlc3VsdCk7XG4gICAgfSlcbiAgICAuY2F0Y2goKGVycm9yKSA9PiB7XG4gICAgICBjb25zb2xlLmxvZyhlcnJvcik7XG4gICAgfSk7XG59XG4vL2Z1bsOnw6NvIHBhcsOibWV0cm8gZGEgY2xhc3NlIFBvcHVwV2l0aENvbmZpcm1hdGlvbi4gRWxhIGRlbGV0YSBvIGNhcmQgZG8gc2Vydmlkb3IgdXNhbmRvIGEgaW5zdMOibmNpYSBkYSBjbGFzc2UgQVBJIGUgcmVtb3ZlIG8gY2FyZCBkYSDDoXJ2b3JlIERPTVxuZnVuY3Rpb24gcmVtb3ZlQ2FyZChjYXJkSWQsIERPTUVsZW1lbnQpIHtcbiAgYXBpXG4gICAgLmRlbGV0ZUNhcmQoY2FyZElkKVxuICAgIC50aGVuKChyZXMpID0+IHtcbiAgICAgIGlmIChyZXMub2spIHtcbiAgICAgICAgcmV0dXJuIHJlcy5qc29uKCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoYEVycm9yOiAke3Jlcy5zdGF0dXN9YCk7XG4gICAgfSlcbiAgICAudGhlbigocmVzdWx0KSA9PiB7XG4gICAgICBjb25zb2xlLmxvZyhyZXN1bHQpO1xuXG4gICAgICBET01FbGVtZW50LnJlbW92ZSgpO1xuICAgIH0pXG4gICAgLmNhdGNoKChlcnJvcikgPT4ge1xuICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xuICAgIH0pO1xufVxuLy9mdW7Dp8OjbyBwYXLDom1ldHJvIGRlIENhcmQgZGl0YSBvIHF1ZSBvY29ycmUgcXVhbmRvIHNlIGNsaWNhIG5vIGRlbGV0ZSBpY29uXG5mdW5jdGlvbiBoYW5kbGVEZWxldGVDbGljayhjYXJkSWQsIERPTUVsZW1lbnQpIHtcbiAgY29uc3QgcG9wdXBXaXRoQ29uZmlybWF0aW9uID0gbmV3IFBvcHVwV2l0aENvbmZpcm1hdGlvbih7XG4gICAgcG9wdXBTZWxlY3RvcjogXCIucG9wdXAtd2l0aC1jb25maXJtYXRpb25fX2NvbnRhaW5lclwiLFxuICAgIHJlbW92ZUNhcmQsXG4gICAgY2FyZElkLFxuICAgIERPTUVsZW1lbnQsXG4gIH0pO1xuXG4gIHBvcHVwV2l0aENvbmZpcm1hdGlvbi5vcGVuKCk7XG59XG5cbi8qIEJ1c2NhIHVzdcOhcmlvIGUgZGVwb2lzIGRpc3NvIGNvbG9jYSBvcyBjYXJkcyBuYSB0ZWxhICovXG5sZXQgdXNlcjtcbmxldCBjYXJkUmVuZGVyZXI7XG5sZXQgcG9wdXBXaXRoSW1hZ2U7XG5jb25zdCB1c2VySW5mbyA9IG5ldyBVc2VySW5mbyh7XG4gIHByb2ZpbGVOYW1lU2VsZWN0b3I6IFwiLnByb2ZpbGVfX25hbWVcIixcbiAgcHJvZmlsZURlc2NyaXB0aW9uU2VsZWN0b3I6IFwiLnByb2ZpbGVfX2Rlc2NyaXB0aW9uXCIsXG59KTtcbmFwaVxuICAuZ2V0VXNlcigpXG4gIC50aGVuKChyZXMpID0+IHtcbiAgICBpZiAocmVzLm9rKSB7XG4gICAgICByZXR1cm4gcmVzLmpzb24oKTtcbiAgICB9XG4gICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGBFcnJvcjogJHtyZXMuc3RhdHVzfWApO1xuICB9KVxuICAudGhlbigocmVzdWx0KSA9PiB7XG4gICAgdXNlciA9IHJlc3VsdDtcblxuICAgIC8vIENhcnJlZ2EgaW5mb3JtYcOnw7VlcyBkbyB1c3XDoXJpbyBuYSB0ZWxhXG4gICAgdXNlckluZm8uc2V0VXNlckluZm8odXNlcik7XG5cbiAgICAvKiBDYXJ0w7VlcyBpbmljaWFpcyBzZW5kbyBhZGljaW9uYWRvcyBhc3NpbSBxdWUgYSBww6FnaW5hIGNhcnJlZ2EgKi9cbiAgICBhcGlcbiAgICAgIC5nZXRJbml0aWFsQ2FyZHMoKVxuICAgICAgLnRoZW4oKHJlcykgPT4ge1xuICAgICAgICBpZiAocmVzLm9rKSB7XG4gICAgICAgICAgcmV0dXJuIHJlcy5qc29uKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGBFcnJvcjogJHtyZXMuc3RhdHVzfWApO1xuICAgICAgfSlcbiAgICAgIC50aGVuKChjYXJkcykgPT4ge1xuICAgICAgICBjb25zb2xlLmxvZyhjYXJkcyk7XG4gICAgICAgIGNvbnN0IHJldmVyc2VkQ2FyZHMgPSBjYXJkcy5yZXZlcnNlKCk7XG4gICAgICAgIHBvcHVwV2l0aEltYWdlID0gbmV3IFBvcHVwV2l0aEltYWdlKFwiLmltYWdlLXBvcHVwX19jb250YWluZXJcIik7XG4gICAgICAgIGNhcmRSZW5kZXJlciA9IG5ldyBTZWN0aW9uKFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGl0ZW1zOiByZXZlcnNlZENhcmRzLFxuICAgICAgICAgICAgcmVuZGVyZXI6IChpdGVtKSA9PiB7XG4gICAgICAgICAgICAgIGNvbnN0IGNhcmQgPSBuZXcgQ2FyZCh7XG4gICAgICAgICAgICAgICAgaXRlbSxcbiAgICAgICAgICAgICAgICB0ZW1wbGF0ZVNlbGVjdG9yOiBcIiNjYXJkLXRlbXBsYXRlXCIsXG4gICAgICAgICAgICAgICAgaGFuZGxlQ2FyZENsaWNrOiAoaXRlbSkgPT4gcG9wdXBXaXRoSW1hZ2Uub3BlbihpdGVtKSxcbiAgICAgICAgICAgICAgICBhZGRMaWtlLFxuICAgICAgICAgICAgICAgIHJlbW92ZUxpa2UsXG4gICAgICAgICAgICAgICAgdXNlcixcbiAgICAgICAgICAgICAgICByZW1vdmVDYXJkLFxuICAgICAgICAgICAgICAgIGhhbmRsZURlbGV0ZUNsaWNrLFxuICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICBjb25zdCBjYXJkRWxlbWVudCA9IGNhcmQuZ2VuZXJhdGVDYXJkKCk7XG4gICAgICAgICAgICAgIGNhcmRSZW5kZXJlci5hZGRJdGVtKGNhcmRFbGVtZW50KTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcIi5nYWxsZXJ5X19jYXJkc1wiXG4gICAgICAgICk7XG4gICAgICAgIGNhcmRSZW5kZXJlci5yZW5kZXJJdGVtcygpO1xuICAgICAgfSlcbiAgICAgIC5jYXRjaCgoZXJyb3IpID0+IHtcbiAgICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xuICAgICAgfSk7XG4gIH0pXG4gIC5jYXRjaCgoZXJyb3IpID0+IHtcbiAgICBjb25zb2xlLmxvZyhlcnJvcik7XG4gIH0pO1xuXG4vKiBBcGxpY2FyIHZhbGlkYcOnw6NvIGFvcyBmb3JtdWzDoXJpb3MgKi9cbmNvbnN0IGZvcm1MaXN0ID0gQXJyYXkuZnJvbShkb2N1bWVudC5mb3Jtcyk7XG5cbmZvcm1MaXN0LmZvckVhY2goKGZvcm1FbGVtZW50KSA9PiB7XG4gIGNvbnN0IHZhbGlkYXRpb24gPSBuZXcgRm9ybVZhbGlkYXRvcihjb25maWcsIGZvcm1FbGVtZW50KTtcbiAgdmFsaWRhdGlvbi5lbmFibGVWYWxpZGF0aW9uKGNvbmZpZywgZm9ybUVsZW1lbnQpO1xufSk7XG5cbmNvbnN0IGVkaXRQcm9maWxlUG9wdXBXaXRoRm9ybSA9IG5ldyBQb3B1cFdpdGhGb3JtKHtcbiAgcG9wdXBTZWxlY3RvcjogXCIuZWRpdC1wcm9maWxlLXBvcHVwX19jb250YWluZXJcIixcbiAgZm9ybVN1Ym1pdGVyOiAoZXZlbnQsIGlucHV0c1ZhbHVlcykgPT4ge1xuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICBjb25zdCBuYW1lID0gaW5wdXRzVmFsdWVzWzBdO1xuICAgIGNvbnN0IGFib3V0ID0gaW5wdXRzVmFsdWVzWzFdO1xuXG4gICAgLy9VWFxuICAgIGNvbnN0IGJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZWRpdC1wcm9maWxlLXBvcHVwX19zdWJtaXQtYnV0dG9uXCIpO1xuICAgIGJ1dHRvbi50ZXh0Q29udGVudCA9IFwiU2FsdmFuZG8uLi5cIjtcblxuICAgIC8vYXR1YWxpemEgb3MgZGFkb3MgZG8gdXN1w6FyaW8gbm8gc2Vydmlkb3JcbiAgICBhcGlcbiAgICAgIC5zYXZlUHJvZmlsZUluZm8obmFtZSwgYWJvdXQpXG4gICAgICAudGhlbigocmVzKSA9PiB7XG4gICAgICAgIGlmIChyZXMub2spIHtcbiAgICAgICAgICByZXR1cm4gcmVzLmpzb24oKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoYEVycm9yOiAke3Jlcy5zdGF0dXN9YCk7XG4gICAgICB9KVxuICAgICAgLnRoZW4oKHJlc3VsdCkgPT4ge1xuICAgICAgICB1c2VyID0gcmVzdWx0O1xuICAgICAgICAvL3BlZ2Egb3MgZGFkb3MgYXR1YWxpemFkb3MgZG8gdXN1w6FyaW8gZSBtb3N0cmEgbmEgdGVsYVxuICAgICAgICB1c2VySW5mby5zZXRVc2VySW5mbyh1c2VyKTtcbiAgICAgIH0pXG4gICAgICAuY2F0Y2goKGVycm9yKSA9PiB7XG4gICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcbiAgICAgIH0pXG4gICAgICAuZmluYWxseSgoKSA9PiB7XG4gICAgICAgIGJ1dHRvbi50ZXh0Q29udGVudCA9IFwiU2FsdmFyXCI7XG4gICAgICB9KTtcbiAgfSxcbiAgZm9ybVJlc2V0dGVyOiByZXNldFZhbGlkYXRpb24sXG59KTtcbmNvbnN0IGVkaXRQcm9maWxlQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19lZGl0LWljb25cIik7XG5lZGl0UHJvZmlsZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAvKiBxdWFuZG8gbyBwb3B1cCBkZSBlZGl0YXIgcGVyZmlsIGZvciBhYmVydG8sIG9zIGRhZG9zIGRvIHVzdcOhcmlvIGrDoSB2w6NvIGFwYXJlY2VyIG5vcyBjYW1wb3MqL1xuICBjb25zdCBpbmZvID0gdXNlckluZm8uZ2V0VXNlckluZm8oKTtcbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5lZGl0LXByb2ZpbGUtcG9wdXBfX2lucHV0X25hbWVcIikudmFsdWUgPVxuICAgIGluZm8udXNlck5hbWU7XG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZWRpdC1wcm9maWxlLXBvcHVwX19pbnB1dF9hYm91dFwiKS52YWx1ZSA9XG4gICAgaW5mby51c2VyRGVzY3JpcHRpb247XG4gIGVkaXRQcm9maWxlUG9wdXBXaXRoRm9ybS5vcGVuKCk7XG59KTtcblxuY29uc3QgYWRkQ2FyZFBvcHVwV2l0aEZvcm0gPSBuZXcgUG9wdXBXaXRoRm9ybSh7XG4gIHBvcHVwU2VsZWN0b3I6IFwiLmFkZC1jYXJkLXBvcHVwX19jb250YWluZXJcIixcbiAgZm9ybVN1Ym1pdGVyOiAoZXZlbnQsIGlucHV0c1ZhbHVlcykgPT4ge1xuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICBjb25zdCBuYW1lID0gaW5wdXRzVmFsdWVzWzBdO1xuICAgIGNvbnN0IGxpbmsgPSBpbnB1dHNWYWx1ZXNbMV07XG5cbiAgICAvL1VYXG4gICAgY29uc3QgY3JlYXRlQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcbiAgICAgIFwiLmFkZC1jYXJkLXBvcHVwX19zdWJtaXQtYnV0dG9uXCJcbiAgICApO1xuICAgIGNyZWF0ZUJ1dHRvbi50ZXh0Q29udGVudCA9IFwiU2FsdmFuZG8uLi5cIjtcblxuICAgIGFwaVxuICAgICAgLmFkZENhcmQobmFtZSwgbGluaylcbiAgICAgIC50aGVuKChyZXMpID0+IHtcbiAgICAgICAgaWYgKHJlcy5vaykge1xuICAgICAgICAgIHJldHVybiByZXMuanNvbigpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChgRXJyb3I6ICR7cmVzLnN0YXR1c31gKTtcbiAgICAgIH0pXG4gICAgICAudGhlbigocmVzdWx0KSA9PiB7XG4gICAgICAgIGNvbnNvbGUubG9nKHJlc3VsdCk7XG4gICAgICAgIGNvbnN0IGl0ZW0gPSByZXN1bHQ7XG5cbiAgICAgICAgLy9jcmlhciBhIGluc3TDom5jaWEgZG8gY2FyZCBlIGFkaWNpb27DoS1sbyBuYSB0ZWxhXG4gICAgICAgIGNvbnN0IGNhcmQgPSBuZXcgQ2FyZCh7XG4gICAgICAgICAgaXRlbSxcbiAgICAgICAgICB0ZW1wbGF0ZVNlbGVjdG9yOiBcIiNjYXJkLXRlbXBsYXRlXCIsXG4gICAgICAgICAgaGFuZGxlQ2FyZENsaWNrOiAoaXRlbSkgPT4gcG9wdXBXaXRoSW1hZ2Uub3BlbihpdGVtKSxcbiAgICAgICAgICBhZGRMaWtlLFxuICAgICAgICAgIHJlbW92ZUxpa2UsXG4gICAgICAgICAgdXNlcixcbiAgICAgICAgICByZW1vdmVDYXJkLFxuICAgICAgICAgIGhhbmRsZURlbGV0ZUNsaWNrLFxuICAgICAgICB9KTtcbiAgICAgICAgY29uc3QgY2FyZEVsZW1lbnQgPSBjYXJkLmdlbmVyYXRlQ2FyZCgpO1xuICAgICAgICBjYXJkUmVuZGVyZXIuYWRkSXRlbShjYXJkRWxlbWVudCk7XG4gICAgICB9KVxuICAgICAgLmNhdGNoKChlcnJvcikgPT4ge1xuICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7XG4gICAgICB9KVxuICAgICAgLmZpbmFsbHkoKCkgPT4ge1xuICAgICAgICBjcmVhdGVCdXR0b24udGV4dENvbnRlbnQgPSBcIkNyaWFyXCI7XG4gICAgICB9KTtcblxuICAgIC8qRGVwb2lzIHF1ZSB1bSBjYXJkIMOpIGFkaWNpb25hZG8sIG5hIHByw7N4aW1hIHZleiBxdWUgbyBwb3B1cCBmb3IgYWJlcnRvLCBvIGJvdMOjbyBjcmlhciBqw6EgZXN0YXLDoSBkZXNhdGl2YWRvICovXG4gICAgY3JlYXRlQnV0dG9uLmNsYXNzTGlzdC5hZGQoXCJwb3B1cF9fc3VibWl0LWJ1dHRvbl9pbmFjdGl2ZVwiKTtcbiAgICBjcmVhdGVCdXR0b24uc2V0QXR0cmlidXRlKFwiZGlzYWJsZWRcIiwgdHJ1ZSk7XG4gIH0sXG4gIGZvcm1SZXNldHRlcjogcmVzZXRWYWxpZGF0aW9uLFxufSk7XG5cbmNvbnN0IGFkZENhcmRCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX2FkZC1idXR0b25cIik7XG5hZGRDYXJkQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gIGFkZENhcmRQb3B1cFdpdGhGb3JtLm9wZW4oKTtcbn0pO1xuXG5jb25zdCBwcm9maWxlUGljdHVyZVBvcHVwV2l0aEZvcm0gPSBuZXcgUG9wdXBXaXRoRm9ybSh7XG4gIHBvcHVwU2VsZWN0b3I6IFwiLnVwZGF0ZS1wcm9maWxlLXBpY3R1cmUtcG9wdXBfX2NvbnRhaW5lclwiLFxuICBmb3JtU3VibWl0ZXI6IChldmVudCwgaW5wdXRzVmFsdWVzKSA9PiB7XG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcblxuICAgIGNvbnN0IGF2YXRhciA9IGlucHV0c1ZhbHVlc1swXTtcblxuICAgIC8vVVhcbiAgICBjb25zdCBidXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxuICAgICAgXCIudXBkYXRlLXByb2ZpbGUtcGljdHVyZS1wb3B1cF9fc3VibWl0LWJ1dHRvblwiXG4gICAgKTtcbiAgICBidXR0b24udGV4dENvbnRlbnQgPSBcIlNhbHZhbmRvLi4uXCI7XG5cbiAgICBhcGlcbiAgICAgIC51cGRhdGVQcm9maWxlUGljdHVyZShhdmF0YXIpXG4gICAgICAudGhlbigocmVzKSA9PiB7XG4gICAgICAgIGlmIChyZXMub2spIHtcbiAgICAgICAgICByZXR1cm4gcmVzLmpzb24oKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoYEVycm9yOiAke3Jlcy5zdGF0dXN9YCk7XG4gICAgICB9KVxuICAgICAgLnRoZW4oKHVzZXJEYXRhKSA9PiB7XG4gICAgICAgIHVzZXJJbmZvLnNldFVzZXJJbmZvKHVzZXJEYXRhKTtcbiAgICAgIH0pXG4gICAgICAuY2F0Y2goKGVycm9yKSA9PiB7XG4gICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcbiAgICAgIH0pXG4gICAgICAuZmluYWxseSgoKSA9PiB7XG4gICAgICAgIGJ1dHRvbi50ZXh0Q29udGVudCA9IFwiU2FsdmFyXCI7XG4gICAgICB9KTtcbiAgfSxcbiAgZm9ybVJlc2V0dGVyOiByZXNldFZhbGlkYXRpb24sXG59KTtcbmNvbnN0IHByb2ZpbGVQaWN0dXJlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19waWN0dXJlLWNvbnRhaW5lclwiKTtcbnByb2ZpbGVQaWN0dXJlLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gIHByb2ZpbGVQaWN0dXJlUG9wdXBXaXRoRm9ybS5vcGVuKCk7XG59KTtcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIEFQSSB7XHJcbiAgY29uc3RydWN0b3IoeyBiYXNlVXJsLCBoZWFkZXJzIH0pIHtcclxuICAgIHRoaXMuX2Jhc2VVcmwgPSBiYXNlVXJsO1xyXG4gICAgdGhpcy5faGVhZGVycyA9IGhlYWRlcnM7XHJcbiAgfVxyXG4gIGdldFVzZXIoKSB7XHJcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vdXNlcnMvbWVgLCB7XHJcbiAgICAgIG1ldGhvZDogXCJHRVRcIixcclxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcclxuICAgIH0pO1xyXG4gIH1cclxuICBnZXRJbml0aWFsQ2FyZHMoKSB7XHJcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vY2FyZHNgLCB7XHJcbiAgICAgIG1ldGhvZDogXCJHRVRcIixcclxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcclxuICAgIH0pO1xyXG4gIH1cclxuICBzYXZlUHJvZmlsZUluZm8obmFtZSwgYWJvdXQpIHtcclxuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS91c2Vycy9tZWAsIHtcclxuICAgICAgbWV0aG9kOiBcIlBBVENIXCIsXHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXHJcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcclxuICAgICAgICBuYW1lOiBuYW1lLFxyXG4gICAgICAgIGFib3V0OiBhYm91dCxcclxuICAgICAgfSksXHJcbiAgICB9KTtcclxuICB9XHJcbiAgYWRkQ2FyZChuYW1lLCBsaW5rKSB7XHJcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vY2FyZHNgLCB7XHJcbiAgICAgIG1ldGhvZDogXCJQT1NUXCIsXHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXHJcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcclxuICAgICAgICBuYW1lLFxyXG4gICAgICAgIGxpbmssXHJcbiAgICAgIH0pLFxyXG4gICAgfSk7XHJcbiAgfVxyXG4gIGFkZENhcmRMaWtlKGl0ZW0sIGNhcmRJZCkge1xyXG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzL2xpa2VzLyR7Y2FyZElkfWAsIHtcclxuICAgICAgbWV0aG9kOiBcIlBVVFwiLFxyXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxyXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShpdGVtKSxcclxuICAgIH0pO1xyXG4gIH1cclxuICByZW1vdmVDYXJkTGlrZShpdGVtLCBjYXJkSWQpIHtcclxuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS9jYXJkcy9saWtlcy8ke2NhcmRJZH1gLCB7XHJcbiAgICAgIG1ldGhvZDogXCJERUxFVEVcIixcclxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcclxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoeyBpdGVtIH0pLFxyXG4gICAgfSk7XHJcbiAgfVxyXG4gIGRlbGV0ZUNhcmQoY2FyZElkKSB7XHJcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vY2FyZHMvJHtjYXJkSWR9YCwge1xyXG4gICAgICBtZXRob2Q6IFwiREVMRVRFXCIsXHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXHJcbiAgICB9KTtcclxuICB9XHJcbiAgdXBkYXRlUHJvZmlsZVBpY3R1cmUoYXZhdGFyKSB7XHJcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vdXNlcnMvbWUvYXZhdGFyYCwge1xyXG4gICAgICBtZXRob2Q6IFwiUEFUQ0hcIixcclxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcclxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoeyBhdmF0YXIgfSksXHJcbiAgICB9KTtcclxuICB9XHJcbn1cclxuIl0sIm5hbWVzIjpbIl9fd2VicGFja19tb2R1bGVfY2FjaGVfXyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImNhY2hlZE1vZHVsZSIsInVuZGVmaW5lZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJfX3dlYnBhY2tfbW9kdWxlc19fIiwibSIsIm8iLCJvYmoiLCJwcm9wIiwiT2JqZWN0IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJjYWxsIiwicCIsImIiLCJkb2N1bWVudCIsImJhc2VVUkkiLCJzZWxmIiwibG9jYXRpb24iLCJocmVmIiwiRm9ybVZhbGlkYXRvciIsImNvbmZpZyIsImZvcm1FbGVtZW50IiwiX2NsYXNzQ2FsbENoZWNrIiwidGhpcyIsIl9pbnB1dHNTZWxlY3RvciIsImlucHV0c1NlbGVjdG9yIiwiX2J1dHRvbkVsZW1lbnRTZWxlY3RvciIsImJ1dHRvbkVsZW1lbnRTZWxlY3RvciIsIl9idXR0b25FbGVtZW50Q2xhc3MiLCJidXR0b25FbGVtZW50Q2xhc3MiLCJfZXJyb3JDbGFzcyIsImVycm9yQ2xhc3MiLCJfaW5wdXRFcnJvckNsYXNzIiwiaW5wdXRFcnJvckNsYXNzIiwiX2Zvcm1FbGVtZW50Iiwia2V5IiwidmFsdWUiLCJfdmFsaWRhdGVJbnB1dHMiLCJfdGhpcyIsImlucHV0cyIsIkFycmF5IiwiZnJvbSIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJidXR0b25FbGVtZW50IiwicXVlcnlTZWxlY3RvciIsIl90b2dnbGVCdXR0b25TdGF0ZSIsImZvckVhY2giLCJpbnB1dEVsZW1lbnQiLCJhZGRFdmVudExpc3RlbmVyIiwiX2lzVmFsaWQiLCJ2YWxpZGl0eSIsInZhbGlkIiwiX2hpZGVJbnB1dEVycm9yIiwiaW5wdXRFbGVtZW50VmFsaWRhdGlvbk1lc3NhZ2UiLCJ2YWxpZGF0aW9uTWVzc2FnZSIsIl9zaG93SW5wdXRFcnJvciIsIl9oYXNJbnZhbGlkSW5wdXQiLCJjbGFzc0xpc3QiLCJhZGQiLCJzZXRBdHRyaWJ1dGUiLCJyZW1vdmUiLCJyZW1vdmVBdHRyaWJ1dGUiLCJlcnJvckVsZW1lbnQiLCJuZXh0RWxlbWVudFNpYmxpbmciLCJ0ZXh0Q29udGVudCIsInNvbWUiLCJyZXNldFZhbGlkYXRpb24iLCJmb3JtcyIsInJlc2V0IiwiU2VjdGlvbiIsIl9yZWYiLCJjb250YWluZXJTZWxlY3RvciIsIml0ZW1zIiwicmVuZGVyZXIiLCJfaXRlbXMiLCJfcmVuZGVyZXIiLCJfY29udGFpbmVyIiwiaXRlbSIsImVsZW1lbnQiLCJwcmVwZW5kIiwiQ2FyZCIsInRlbXBsYXRlU2VsZWN0b3IiLCJoYW5kbGVDYXJkQ2xpY2siLCJhZGRMaWtlIiwicmVtb3ZlTGlrZSIsInVzZXIiLCJyZW1vdmVDYXJkIiwiaGFuZGxlRGVsZXRlQ2xpY2siLCJfaXRlbSIsIl9uYW1lIiwibmFtZSIsIl9saW5rIiwibGluayIsIl9saWtlcyIsImxpa2VzIiwiX293bmVyIiwib3duZXIiLCJfY2FyZElkIiwiX2lkIiwiX3RlbXBsYXRlU2VsZWN0b3IiLCJfaGFuZGxlQ2FyZENsaWNrIiwiX2FkZExpa2UiLCJfcmVtb3ZlTGlrZSIsIl91c2VyIiwiX3VzZXJJZCIsIl9yZW1vdmVDYXJkIiwiX2hhbmRsZURlbGV0ZUNsaWNrIiwiY29udGVudCIsImNsb25lTm9kZSIsIl9lbGVtZW50IiwiX2dldFRlbXBsYXRlIiwic3JjIiwiX2xpa2VDb3VudCIsImxlbmd0aCIsIl9saWtlQnV0dG9uIiwiX2hlYXJ0SWNvbiIsIlVSTCIsIl9oZWFydEljb25BY3RpdmUiLCJsaWtlIiwiX3NldEV2ZW50TGlzdGVuZXJzIiwiX2RlbGV0ZUljb24iLCJfdGhpczIiLCJfZW5hYmxlTGlrZUJ1dHRvbiIsIl9oZWFydEljb25Tb3VyY2UiLCJnZXRBdHRyaWJ1dGUiLCJpbmNsdWRlcyIsIlVzZXJJbmZvIiwicHJvZmlsZU5hbWVTZWxlY3RvciIsInByb2ZpbGVEZXNjcmlwdGlvblNlbGVjdG9yIiwiX3Byb2ZpbGVOYW1lIiwiX3Byb2ZpbGVEZXNjcmlwdGlvbiIsIl9wcm9maWxlUGljdHVyZSIsInVzZXJOYW1lIiwidXNlckRlc2NyaXB0aW9uIiwiYWJvdXQiLCJhdmF0YXIiLCJQb3B1cCIsInBvcHVwU2VsZWN0b3IiLCJfcG9wdXAiLCJfcG9wdXBTZWN0aW9uIiwicGFyZW50RWxlbWVudCIsIl9wb3B1cENsb3NlSWNvbiIsIl9oYW5kbGVFc2NDbG9zZSIsImJpbmQiLCJfaGFuZGxlQ2xpY2tPdXRzaWRlIiwiY2xvc2UiLCJzZXRFdmVudExpc3RlbmVycyIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJldmVudCIsInRhcmdldCIsInRhZ05hbWUiLCJQb3B1cFdpdGhJbWFnZSIsIl9Qb3B1cCIsIl9jYWxsU3VwZXIiLCJfcG9wdXBJbWFnZSIsIl9wb3B1cFRpdGxlIiwiX2luaGVyaXRzIiwiUG9wdXBXaXRoRm9ybSIsImZvcm1TdWJtaXRlciIsImZvcm1SZXNldHRlciIsIl9mb3JtU3VibWl0ZXIiLCJfcG9wdXBGb3JtIiwiX2lucHV0cyIsIl9mb3JtUmVzZXR0ZXIiLCJfc3VtYml0SGFuZGxlciIsIm1hcCIsImlucHV0IiwiX3N1cGVyUHJvcEdldCIsImlucHV0c1ZhbHVlcyIsIl9nZXRJbnB1dFZhbHVlcyIsIlBvcHVwV2l0aENvbmZpcm1hdGlvbiIsImNhcmRJZCIsIkRPTUVsZW1lbnQiLCJfRE9NRWxlbWVudCIsIl9jbGlja0hhbmRsZXIiLCJfY29uZmlybWF0aW9uQnV0dG9uIiwiY2FyZFJlbmRlcmVyIiwicG9wdXBXaXRoSW1hZ2UiLCJhcGkiLCJBUEkiLCJiYXNlVXJsIiwiaGVhZGVycyIsIl9iYXNlVXJsIiwiX2hlYWRlcnMiLCJmZXRjaCIsImNvbmNhdCIsIm1ldGhvZCIsImJvZHkiLCJKU09OIiwic3RyaW5naWZ5IiwiYXV0aG9yaXphdGlvbiIsInB1c2giLCJhZGRDYXJkTGlrZSIsInRoZW4iLCJyZXMiLCJvayIsImpzb24iLCJQcm9taXNlIiwicmVqZWN0Iiwic3RhdHVzIiwicmVzdWx0IiwiY29uc29sZSIsImxvZyIsImNhdGNoIiwiZXJyb3IiLCJ1c2VySWQiLCJmaWx0ZXIiLCJyZW1vdmVDYXJkTGlrZSIsImRlbGV0ZUNhcmQiLCJvcGVuIiwidXNlckluZm8iLCJnZXRVc2VyIiwic2V0VXNlckluZm8iLCJnZXRJbml0aWFsQ2FyZHMiLCJjYXJkcyIsInJldmVyc2VkQ2FyZHMiLCJyZXZlcnNlIiwiY2FyZCIsImNhcmRFbGVtZW50IiwiZ2VuZXJhdGVDYXJkIiwiYWRkSXRlbSIsInJlbmRlckl0ZW1zIiwiZW5hYmxlVmFsaWRhdGlvbiIsImVkaXRQcm9maWxlUG9wdXBXaXRoRm9ybSIsInByZXZlbnREZWZhdWx0IiwiYnV0dG9uIiwic2F2ZVByb2ZpbGVJbmZvIiwiZmluYWxseSIsImluZm8iLCJnZXRVc2VySW5mbyIsImFkZENhcmRQb3B1cFdpdGhGb3JtIiwiY3JlYXRlQnV0dG9uIiwiYWRkQ2FyZCIsInByb2ZpbGVQaWN0dXJlUG9wdXBXaXRoRm9ybSIsInVwZGF0ZVByb2ZpbGVQaWN0dXJlIiwidXNlckRhdGEiXSwic291cmNlUm9vdCI6IiJ9